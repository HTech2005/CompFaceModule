<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.ImageView?>

<VBox xmlns:fx="http://javafx.com/fxml" fx:controller="tech.HTECH.ui.ComparisonController" spacing="20" style="-fx-background-color: #121212;">
    <padding>
        <Insets top="30" right="30" bottom="30" left="30"/>
    </padding>
    
    <Label text="Comparaison Faciale (CDV)" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold;"/>

    <HBox spacing="40" alignment="CENTER">
        <VBox spacing="10" alignment="CENTER">
            <StackPane style="-fx-background-color: #262626; -fx-pref-width: 250; -fx-pref-height: 250; -fx-background-radius: 10; -fx-border-color: #404040; -fx-border-radius: 10;">
                <ImageView fx:id="imgView1" fitWidth="230" fitHeight="230" preserveRatio="true"/>
                <Label fx:id="lblPlaceholder1" text="IMAGE 1" style="-fx-text-fill: #555555;"/>
            </StackPane>
            <Button text="Charger Image 1" onAction="#handleUpload1" style="-fx-background-color: #007bff; -fx-text-fill: white;"/>
        </VBox>

        <VBox spacing="10" alignment="CENTER">
            <StackPane style="-fx-background-color: #262626; -fx-pref-width: 250; -fx-pref-height: 250; -fx-background-radius: 10; -fx-border-color: #404040; -fx-border-radius: 10;">
                <ImageView fx:id="imgView2" fitWidth="230" fitHeight="230" preserveRatio="true"/>
                <Label fx:id="lblPlaceholder2" text="IMAGE 2" style="-fx-text-fill: #555555;"/>
            </StackPane>
            <Button text="Charger Image 2" onAction="#handleUpload2" style="-fx-background-color: #007bff; -fx-text-fill: white;"/>
        </VBox>
    </HBox>

    <Button text="LANCER COMPARAISON" onAction="#handleCompare" fx:id="btnCompare" maxWidth="300" style="-fx-background-color: #00ff88; -fx-text-fill: #121212; -fx-font-weight: bold; -fx-font-size: 16;"/>

    <VBox fx:id="resultPane" spacing="15" visible="false" style="-fx-background-color: #262626; -fx-padding: 20; -fx-background-radius: 10; -fx-border-color: #404040;">
        <HBox spacing="20" alignment="CENTER">
            <VBox spacing="5" alignment="CENTER">
                <Label text="Visage 1 Détecté" style="-fx-text-fill: #aaaaaa; -fx-font-size: 10;"/>
                <ImageView fx:id="imgDetected1" fitWidth="120" fitHeight="120" preserveRatio="true" style="-fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.5), 10, 0, 0, 0);"/>
            </VBox>
            <Label text="VS" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
            <VBox spacing="5" alignment="CENTER">
                <Label text="Visage 2 Détecté" style="-fx-text-fill: #aaaaaa; -fx-font-size: 10;"/>
                <ImageView fx:id="imgDetected2" fitWidth="120" fitHeight="120" preserveRatio="true" style="-fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.5), 10, 0, 0, 0);"/>
            </VBox>
        </HBox>

        <Separator style="-fx-background-color: #404040;"/>

        <Label fx:id="lblVerdict" text="COMPATIBLE" style="-fx-text-fill: #00ff88; -fx-font-size: 24; -fx-font-weight: bold;"/>
        
        <GridPane hgap="30" vgap="15">
            <VBox GridPane.columnIndex="0" GridPane.rowIndex="0">
                <Label text="Taux Chi-Carré" style="-fx-text-fill: #aaaaaa; -fx-font-size: 12;"/>
                <Label fx:id="lblChi2" text="0.0%" style="-fx-text-fill: #007bff; -fx-font-size: 18; -fx-font-weight: bold;"/>
            </VBox>
            
            <VBox GridPane.columnIndex="1" GridPane.rowIndex="0">
                <Label text="Taux Euclidien" style="-fx-text-fill: #aaaaaa; -fx-font-size: 12;"/>
                <Label fx:id="lblEucl" text="0.0%" style="-fx-text-fill: #007bff; -fx-font-size: 18; -fx-font-weight: bold;"/>
            </VBox>
            
            <VBox GridPane.columnIndex="0" GridPane.rowIndex="1">
                <Label text="Similitude Cosinus" style="-fx-text-fill: #aaaaaa; -fx-font-size: 12;"/>
                <Label fx:id="lblCos" text="0.0%" style="-fx-text-fill: #007bff; -fx-font-size: 18; -fx-font-weight: bold;"/>
            </VBox>
            
            <VBox GridPane.columnIndex="1" GridPane.rowIndex="1" style="-fx-background-color: #1a1a1a; -fx-padding: 10; -fx-background-radius: 5;">
                <Label text="SCORE GLOBAL" style="-fx-text-fill: #ffcc00; -fx-font-size: 12; -fx-font-weight: bold;"/>
                <Label fx:id="lblGlobal" text="0.0%" style="-fx-text-fill: #ffcc00; -fx-font-size: 22; -fx-font-weight: bold;"/>
            </VBox>
        </GridPane>
    </VBox>
</VBox>
