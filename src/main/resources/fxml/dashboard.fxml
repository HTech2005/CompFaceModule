<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns:fx="http://javafx.com/fxml" fx:controller="tech.HTECH.ui.DashboardController" spacing="20" style="-fx-background-color: #121212;">
    <padding>
        <Insets top="30" right="30" bottom="30" left="30"/>
    </padding>

    <Label text="Tableau de Bord" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold;"/>

    <FlowPane hgap="20" vgap="20">
        <VBox spacing="10" alignment="CENTER" style="-fx-background-color: #262626; -fx-padding: 20; -fx-background-radius: 10; -fx-pref-width: 200;">
            <Label text="Visages Enregistrés" style="-fx-text-fill: #aaaaaa;"/>
            <Label fx:id="lblCountEnregistre" text="0" style="-fx-text-fill: white; -fx-font-size: 32; -fx-font-weight: bold;"/>
            <Button text="Gérer" style="-fx-background-color: #3b3b3b; -fx-text-fill: white;"/>
        </VBox>

        <VBox spacing="10" alignment="CENTER" style="-fx-background-color: #262626; -fx-padding: 20; -fx-background-radius: 10; -fx-pref-width: 200;">
            <Label text="Dernières Actions" style="-fx-text-fill: #aaaaaa;"/>
            <Label text="Aucune" style="-fx-text-fill: #555555; -fx-font-size: 14;"/>
            <Button text="Historique" style="-fx-background-color: #3b3b3b; -fx-text-fill: white;"/>
        </VBox>
    </FlowPane>

    <HBox spacing="20" VBox.vgrow="ALWAYS">
        <VBox spacing="10" prefWidth="300">
            <Label text="Base de données" style="-fx-text-fill: white; -fx-font-size: 18;"/>
            <ListView fx:id="listBDD" VBox.vgrow="ALWAYS" style="-fx-background-color: #1a1a1a; -fx-control-inner-background: #1a1a1a; -fx-text-fill: white;"/>
            <Button text="＋ Ajouter une image" onAction="#handleAdd" style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-pref-width: 300; -fx-font-weight: bold;"/>
        </VBox>

        <VBox fx:id="previewPane" spacing="15" alignment="TOP_CENTER" visible="false" style="-fx-background-color: #1a1a1a; -fx-padding: 20; -fx-background-radius: 10;" HBox.hgrow="ALWAYS">
            <Label text="PRÉVISUALISATION" style="-fx-text-fill: #aaaaaa; -fx-font-size: 12; -fx-font-weight: bold;"/>
            <StackPane style="-fx-background-color: black; -fx-padding: 5; -fx-background-radius: 5;">
                <javafx.scene.image.ImageView fx:id="imgPreview" fitWidth="250" fitHeight="250" preserveRatio="true"/>
            </StackPane>
            
            <VBox spacing="5">
                <Label text="Nom du fichier" style="-fx-text-fill: #aaaaaa; -fx-font-size: 11;"/>
                <TextField fx:id="txtFileName" style="-fx-background-color: #333; -fx-text-fill: white; -fx-padding: 8;"/>
            </VBox>

            <HBox spacing="10" alignment="CENTER">
                <Button text="Renommer" onAction="#handleRename" style="-fx-background-color: #ffcc00; -fx-text-fill: black; -fx-pref-width: 120; -fx-font-weight: bold;"/>
                <Button text="Supprimer" onAction="#handleDelete" style="-fx-background-color: #ff4e4e; -fx-text-fill: white; -fx-pref-width: 120; -fx-font-weight: bold;"/>
            </HBox>
        </VBox>
    </HBox>
</VBox>
